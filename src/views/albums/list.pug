extends ../layout_admin

block stylesheets
  link(rel="stylesheet", href="/styles/custom_list.css")
  link(rel="stylesheet", href="/styles/custom_detail.css")

block content 
  .container 
    h1.text-center #{t('action.list')} #{t('option.album')}
    a.btn.btn-success.mb-3(href='/admin/albums/create') #{t('action.create')} #{t('option.album')}
    if albums.length === 0
      #errorAlert.alert.alert-danger #{t('error.noAlbums')}
    if error_msg.length
        #errorAlert.alert.alert-danger #{error_msg}
    if success_msg.length
        #successAlert.alert.alert-success #{success_msg}
    ul.list-group
      each album in albums
        li.list-group-item.d-flex.justify-content-between.align-items-center
          .d-flex.align-items-center
            img.album-avatar(src=album.imageUrl, alt=album.title)
            .ml-2
              a.text-decoration-none.text-success(href=`/admin/albums/${album.id}`)
                h5.mb-1= album.title
              p #{t('form.releaseDate')}: #{album.releaseDate.toDateString()}
    if totalPages > 1
      .pagination.justify-content-center.mt-4
        if currentPage > 1
          li.page-item
            a.page-link(href=`/admin/albums?page=${currentPage - 1}`) &laquo;
        else
          li.page-item.disabled
            span.page-link &laquo;
        each page in [...Array(totalPages).keys()].map(n => n + 1)
          if page === currentPage
            li.page-item.active
              span.page-link #{page}
          else
            li.page-item
              a.page-link(href=`/admin/albums?page=${page}`) #{page}

        if currentPage < totalPages
          li.page-item
            a.page-link(href=`/admin/albums?page=${currentPage + 1}`) &raquo;
        else
          li.page-item.disabled
            span.page-link &raquo;

  block scripts
    script(src="/js/user.js")
